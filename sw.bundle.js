!function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}({2:function(e,t){const n="https://h-shams.github.io/habit-tracker/";function o(e=!1){return caches.open("habit-tracker-cache").then(t=>fetch(n+"assets.json").then(n=>n.json().then(n=>t.match("assets.json").then(o=>o.json().then(o=>{return(s=n,r=o,new Promise((e,t)=>{s&&r||t(new Error("two argunment must passed"));const n=[];s.forEach(e=>{let t=null;r.forEach(n=>{n.url===e.url&&(t=n.revision===e.revision||"changed")}),(null===t||"changed"===t)&&n.push(e.url)}),e(n)})).then(n=>t.addAll(n).then(()=>{e&&t.add("assets.json").then(()=>{console.log("SW: cached assets.json")}),console.log("SW: folowing items are cached"),console.log(n)}));var s,r})).catch(e=>{console.log(e),n.forEach(e=>{t.add(e.url).then(()=>{console.log("SW: cached "+e.url)})}),t.add("assets.json").then(()=>{console.log("SW: cached assets.json")})}))))}function s(e){const t=n.length;return e.slice(t)}self.addEventListener("install",e=>{console.log("SW: installed"),console.log(`SW: base url is "${n}"`),e.waitUntil(o(!0))}),self.addEventListener("activate",e=>{console.log("SW: actived")}),self.addEventListener("fetch",e=>{let t;console.log("SW: fetch for: "+e.request.url),""===s(e.request.url)?(console.log(" "),t=n+"index.html"):t=e.request.url,e.respondWith(caches.open("habit-tracker-cache").then(e=>e.match(t).then(e=>(console.log("SW: GET "+s(t),e?"--- cache":"--- fetched"),e||fetch(t))))),"index.html"===s(t)&&(setTimeout(()=>{new Promise((e,t)=>{let n=[];caches.open("habit-tracker-cache").then(e=>{e.keys().then(t=>{e.match("assets.json").then(o=>{o.json().then(o=>{var r,l;o.push({url:"assets.json"}),(r=o,l=t,new Promise((e,t)=>{r&&l||t(new Error("two argunment must passed"));const n=[];l.forEach(e=>{let t=null;r.forEach(n=>{s(e.url)===n.url&&(t=!0)}),null===t&&n.push(s(e.url))}),e(n)})).then(t=>{t.forEach(t=>{e.delete(t)}),n=t,console.log("SW: folowing item Deleted "),console.log(t)})})}).catch(e=>{console.log(e),console.log('SW: there is no "assets.json" in cache;')})})}),e(n)})},2500),setTimeout(()=>{o(!0)},5e3))})}});